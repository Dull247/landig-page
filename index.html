<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dreams World Travel & Tourism | عالم الأحلام للسفر والسياحة</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    
    <!-- 3. Tailwind Config -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: { 50: '#f0f9ff', 100: '#e0f2fe', 500: '#0ea5e9', 700: '#0369a1', 800: '#075985', 900: '#0c4a6e', 950: '#082f49' },
              gold: { 50: '#fffbeb', 100: '#fef3c7', 200: '#fde68a', 300: '#fcd34d', 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706', 700: '#b45309' }
            },
            fontFamily: {
              sans: ['Lato', 'Amiri', 'sans-serif'],
              serif: ['Playfair Display', 'Amiri', 'serif'],
              arabic: ['Amiri', 'serif'],
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out',
              'slide-up': 'slideUp 0.6s ease-out',
              'ken-burns': 'kenBurns 20s ease-out infinite alternate',
            },
            keyframes: {
              fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
              slideUp: { '0%': { transform: 'translateY(20px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
              kenBurns: { '0%': { transform: 'scale(1)' }, '100%': { transform: 'scale(1.15)' } }
            }
          }
        }
      }
    </script>
    
    <style>
      html { scroll-behavior: smooth; }
      .glass-panel { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.5); }
      .glass-nav { background: rgba(255, 255, 255, 0.90); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); border-bottom: 1px solid rgba(255, 255, 255, 0.3); }
      .text-shadow-sm { text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none;  scrollbar-width: none; }
    </style>

    <!-- 4. Import Map -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "react-router-dom": "https://esm.sh/react-router-dom@6.22.3?deps=react@18.2.0,react-dom@18.2.0",
    "lucide-react": "https://esm.sh/lucide-react@0.363.0?deps=react@18.2.0",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
  }
}
</script>

    <!-- 5. Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 6. THE APP CODE -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, createContext, useContext } from 'react';
        import ReactDOM from 'react-dom/client';
        import { HashRouter, Routes, Route, Link, useLocation, useNavigate } from 'react-router-dom';
        import * as Lucide from 'lucide-react';

        // --- CONSTANTS ---
        const DEFAULT_LOGO = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
          <defs><linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#0369a1;stop-opacity:1" /><stop offset="100%" style="stop-color:#0ea5e9;stop-opacity:1" /></linearGradient></defs>
          <g transform="translate(130, 20)"><path d="M 120 20 C 60 20 20 80 20 160 C 20 260 80 340 160 340 C 130 320 60 260 60 160 C 60 90 85 50 120 20 Z" fill="url(#grad1)" /><text x="90" y="100" font-family="'Playfair Display', serif" font-size="75" font-weight="bold" fill="#fff">D</text><text x="95" y="175" font-family="'Playfair Display', serif" font-size="75" font-weight="bold" fill="#fff">W</text><text x="75" y="245" font-family="'Playfair Display', serif" font-size="75" font-weight="bold" fill="#fff">T</text><text x="115" y="270" font-family="'Playfair Display', serif" font-size="75" font-weight="bold" fill="#fff">T</text><circle cx="210" cy="220" r="12" fill="#f59e0b" /></g>
          <g transform="translate(250, 380)" text-anchor="middle"><text y="-20" font-family="'Amiri', serif" font-size="34" fill="#4b5563">عالم الأحلام للسفر و السياحة</text><text y="35" font-family="'Playfair Display', serif" font-size="52" font-weight="bold" fill="#0c4a6e">Dreams World</text><text y="75" font-family="'Lato', sans-serif" font-size="30" font-weight="bold" fill="#64748b">Travel & Tourism</text><line x1="-120" y1="85" x2="120" y2="85" stroke="#f59e0b" stroke-width="3" /></g>
        </svg>`);

        const TRANSLATIONS = {
          brandName: { ar: 'عالم الأحلام للسفر و السياحة', en: 'Dreams World Travel' },
          home: { ar: 'الرئيسية', en: 'Home' },
          flights: { ar: 'طيران', en: 'Flights' },
          hotels: { ar: 'فنادق', en: 'Hotels' },
          visas: { ar: 'تأشيرات', en: 'Visas' },
          packages: { ar: 'باقات سياحية', en: 'Packages' },
          contact: { ar: 'اتصل بنا', en: 'Contact Us' },
          bookNow: { ar: 'احجز الآن', en: 'Book Now' },
          search: { ar: 'بحث', en: 'Search' },
          from: { ar: 'من', en: 'From' },
          to: { ar: 'إلى', en: 'To' },
          date: { ar: 'التاريخ', en: 'Date' },
          passengers: { ar: 'المسافرين', en: 'Passengers' },
          checkIn: { ar: 'تسجيل دخول', en: 'Check In' },
          checkOut: { ar: 'تسجيل خروج', en: 'Check Out' },
          guests: { ar: 'الضيوف', en: 'Guests' },
          featuredOffers: { ar: 'عروض مميزة', en: 'Featured Offers' },
          footerDesc: { ar: 'شريكك الموثوق لاستكشاف العالم بفخامة وراحة. خدمات متميزة، أسعار تنافسية، وتجارب لا تنسى.', en: 'Your trusted partner to explore the world in luxury and comfort. Premium services, competitive rates, and unforgettable experiences.' },
          copyright: { ar: 'جميع الحقوق محفوظة © 2024', en: 'All Rights Reserved © 2024' },
          requestSent: { ar: 'تم استلام طلبك! سيتصل بك وكيلنا قريباً.', en: 'Request Received! An agent will contact you shortly.' },
          admin: { ar: 'لوحة التحكم', en: 'Admin Panel' },
          visaTitle: { ar: 'خدمات التأشيرات المتكاملة', en: 'Premium Visa Services' },
          visaDesc: { ar: 'نحن نتولى جميع الإجراءات المعقدة. من تعبئة النماذج إلى حجز المواعيد، سافر براحة بال.', en: 'We handle the complex paperwork. From forms to appointments, travel with peace of mind.' },
          applyVisa: { ar: 'اطلب التأشيرة', en: 'Request Visa' },
          ourServices: { ar: 'خدماتنا الشاملة', en: 'Our Services' },
          servicesDesc: { ar: 'نقدم مجموعة واسعة من خدمات السفر والسياحة لتلبية جميع احتياجاتك.', en: 'We offer a wide range of travel and tourism services to meet all your needs.' },
          testimonialsTitle: { ar: 'قصص مسافرينا', en: 'Client Stories' },
          testimonialsDesc: { ar: 'لا تثق بكلمتنا فقط، استمع لما يقوله عملاؤنا المميزون.', en: 'Don\'t just take our word for it. Hear what our distinguished clients say.' },
          headOffice: { ar: 'المكتب الرئيسي', en: 'Head Office' },
          addressLine1: { ar: 'جدة - 9707 شارع الملك فيصل', en: 'Jeddah - 9707 King Faisal Street' },
          addressLine2: { ar: 'تقاطع شارع الملك سعود - حي الصواري - 23826', en: 'Intersection with King Saud Street - Al Sawari District - 23826' },
          followUs: { ar: 'تابعونا على', en: 'Follow Us' },
          links: { ar: 'روابط سريعة', en: 'Quick Links' },
          customRequestTitle: { ar: 'هل تبحث عن شيء خاص؟', en: 'Looking for Something Special?' },
          customRequestDesc: { ar: 'إذا لم تجد ما تبحث عنه في القائمة أعلاه، اكتب طلبك هنا وسنتواصل معك.', en: 'If you want anything beside the above, drop it here and we will be in touch.' },
          sendRequest: { ar: 'أرسل الطلب', en: 'Send Request' },
          contactPlaceholder: { ar: 'رقم الجوال أو البريد الإلكتروني', en: 'Mobile Number or Email' },
          requestPlaceholder: { ar: 'اكتب تفاصيل طلبك...', en: 'Describe your request...' },
        };

        const OTHER_SERVICES = [
            { key: 'conf', icon: 'Briefcase', image: 'https://images.unsplash.com/photo-1515187029135-18ee286d815b?auto=format&fit=crop&q=80&w=500', ar: 'تنظيم المؤتمرات', en: 'Conference Arrangements' },
            { key: 'intl', icon: 'Handshake', image: 'https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&q=80&w=500', ar: 'اتفاقيات دولية', en: 'International Agreements' },
            { key: 'priv', icon: 'Crown', image: 'https://images.unsplash.com/photo-1560624052-449f5ddf0c31?auto=format&fit=crop&q=80&w=500', ar: 'ترتيبات خاصة VIP', en: 'Private & VIP Arrangements' },
            { key: 'youth', icon: 'Users', image: 'https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&q=80&w=500', ar: 'رحلات الشباب والأطفال', en: 'Youth & Children Travel' },
            { key: 'inc', icon: 'TrendingUp', image: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80&w=500', ar: 'سياحة الحوافز', en: 'Incentive Travel' },
            { key: 'lic', icon: 'Car', image: 'https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?auto=format&fit=crop&q=80&w=500', ar: 'رخص قيادة دولية', en: 'Intl. Driving Licenses' },
            { key: 'chart', icon: 'Plane', image: 'https://images.unsplash.com/photo-1540962351504-03099e0a754b?auto=format&fit=crop&q=80&w=500', ar: 'طيران شارتر تجاري', en: 'Commercial Charter' },
            { key: 'safari', icon: 'Compass', image: 'https://images.unsplash.com/photo-1534759846116-5799c33ce22a?auto=format&fit=crop&q=80&w=500', ar: 'رحلات سفاري ومغامرات', en: 'Safari & Adventures' },
            { key: 'train', icon: 'Train', image: 'https://images.unsplash.com/photo-1474487548417-781cb71495f3?auto=format&fit=crop&q=80&w=500', ar: 'تذاكر قطارات', en: 'Train Tickets' },
            { key: 'ski', icon: 'Mountain', image: 'https://images.unsplash.com/photo-1551698618-1dfe5d97d256?auto=format&fit=crop&q=80&w=500', ar: 'رحلات تزلج', en: 'Skiing Trips' },
            { key: 'med', icon: 'HeartPulse', image: 'https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?auto=format&fit=crop&q=80&w=500', ar: 'سياحة علاجية', en: 'Medical Tourism' },
            { key: 'cargo', icon: 'Package', image: 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&q=80&w=500', ar: 'خدمات الشحن', en: 'Cargo Services' },
        ];

        const FEATURED_PACKAGES = [
          { id: '1', title: { ar: 'سحر إسطنبول', en: 'Magic of Istanbul' }, description: { ar: '5 أيام في قلب التاريخ مع إقامة فاخرة وجولات خاصة.', en: '5 days in the heart of history with luxury stay and private tours.' }, price: 850, image: 'https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?q=80&w=2071&auto=format&fit=crop', location: 'Turkey', duration: '5 Days' },
          { id: '2', title: { ar: 'رومانسية باريس', en: 'Romantic Paris' }, description: { ar: 'استمتع بأسبوع في مدينة الأضواء شامل الطيران.', en: 'Enjoy a week in the City of Lights, flights included.' }, price: 1500, image: 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=2073&auto=format&fit=crop', location: 'France', duration: '7 Days' },
          { id: '3', title: { ar: 'جزر المالديف', en: 'Maldives Escape' }, description: { ar: 'استرخاء تام في فيلا فوق الماء مع وجبات كاملة.', en: 'Total relaxation in an overwater villa with full board.' }, price: 2200, image: 'https://images.unsplash.com/photo-1514282401047-d79a71a590e8?q=80&w=2065&auto=format&fit=crop', location: 'Maldives', duration: '6 Days' },
          { id: '4', title: { ar: 'لندن الملكية', en: 'Royal London' }, description: { ar: 'جولة في معالم لندن الشهيرة والتسوق في أرقى المتاجر.', en: 'Tour London iconic landmarks and shop at luxury stores.' }, price: 1800, image: 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?q=80&w=2070&auto=format&fit=crop', location: 'UK', duration: '6 Days' },
          { id: '5', title: { ar: 'جمال جورجيا', en: 'Beauty of Georgia' }, description: { ar: 'الطبيعة الخلابة والجبال الساحرة بأسعار مميزة.', en: 'Breathtaking nature and charming mountains at great rates.' }, price: 650, image: 'https://images.unsplash.com/photo-1565008576549-57569a49371d?q=80&w=2069&auto=format&fit=crop', location: 'Georgia', duration: '5 Days' },
          { id: '6', title: { ar: 'تايلاند الاستوائية', en: 'Tropical Thailand' }, description: { ar: 'بوكيت وبانكوك، مغامرة لا تنسى في آسيا.', en: 'Phuket & Bangkok, an unforgettable Asian adventure.' }, price: 950, image: 'https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?q=80&w=2039&auto=format&fit=crop', location: 'Thailand', duration: '8 Days' },
          { id: '7', title: { ar: 'سويسرا الساحرة', en: 'Charming Switzerland' }, description: { ar: 'جبال الألب والبحيرات الكريستالية في رحلة فاخرة.', en: 'The Alps and crystal lakes in a luxury journey.' }, price: 2400, image: 'https://images.unsplash.com/photo-1530122037265-a5f1f91d3b99?q=80&w=2070&auto=format&fit=crop', location: 'Switzerland', duration: '7 Days' }
        ];

        const VISA_SERVICES = [
          { id: 'us', country: 'USA', title: { ar: 'تأشيرة الولايات المتحدة', en: 'USA Visa' }, requirements: { ar: ['جواز سفر', 'صورة شخصية', 'كشف حساب'], en: ['Passport', 'Photo', 'Bank Statement'] }, price: 200 },
          { id: 'eu', country: 'Schengen', title: { ar: 'شنغن (أوروبا)', en: 'Schengen (Europe)' }, requirements: { ar: ['تأمين سفر', 'حجز طيران', 'حجز فندق'], en: ['Travel Insurance', 'Flight Booking', 'Hotel Booking'] }, price: 150 }
        ];

        const TESTIMONIALS = [
          { id: '1', name: { ar: 'أحمد الغامدي', en: 'Ahmed Al Ghamdi' }, role: { ar: 'رجل أعمال', en: 'Business Traveler' }, comment: { ar: 'خدمة استثنائية! ترتيبات السفر للمؤتمر في لندن كانت دقيقة جداً. شكراً دريم وورلد.', en: 'Exceptional service! The travel arrangements for the London conference were impeccable. Thank you Dream World.' }, avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2070&auto=format&fit=crop', rating: 5 },
          { id: '2', name: { ar: 'سارة محمد', en: 'Sarah Mohammed' }, role: { ar: 'رحلة عائلية', en: 'Family Vacation' }, comment: { ar: 'قضينا أجمل أسبوع في تركيا. الفنادق كانت رائعة والمواصلات مريحة جداً.', en: 'We spent the most beautiful week in Turkey. The hotels were amazing and transport very comfortable.' }, avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=2070&auto=format&fit=crop', rating: 5 },
          { id: '3', name: { ar: 'د. خالد علي', en: 'Dr. Khaled Ali' }, role: { ar: 'سياحة علاجية', en: 'Medical Tourism' }, comment: { ar: 'الاهتمام بالتفاصيل الطبية والسكنية كان فوق التوقعات. فريق محترف بحق.', en: 'Attention to medical and accommodation details was beyond expectations. Truly a professional team.' }, avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=1974&auto=format&fit=crop', rating: 5 }
        ];

        // --- SERVICES ---
        const WhatsappService = {
          createLink(message) { return `https://wa.me/966567788773?text=${encodeURIComponent(message)}`; },
          forFlight(req, lang) {
            const text = lang === 'ar' ? `مرحباً، أود حجز رحلة طيران:\nمن: ${req.from}\nإلى: ${req.to}\nالتاريخ: ${req.date}\nالركاب: ${req.passengers}` : `Flight request:\nFrom: ${req.from}\nTo: ${req.to}\nDate: ${req.date}\nPassengers: ${req.passengers}`;
            return this.createLink(text);
          },
          forHotel(req, lang) {
            const text = lang === 'ar' ? `مرحباً، أود حجز فندق:\nالمدينة: ${req.city}\nدخول: ${req.checkIn}\nخروج: ${req.checkOut}\nالضيوف: ${req.guests}` : `Hotel request:\nCity: ${req.city}\nCheck-in: ${req.checkIn}\nCheck-out: ${req.checkOut}\nGuests: ${req.guests}`;
            return this.createLink(text);
          },
          forPackage(pkg, lang) {
            const text = lang === 'ar' ? `مرحباً، أنا مهتم بحجز الباقة السياحية: ${pkg.title.ar} (السعر: $${pkg.price})` : `I am interested in booking: ${pkg.title.en} ($${pkg.price})`;
            return this.createLink(text);
          },
          forGeneral(message) { return this.createLink(message); }
        };

        const BookingService = {
          async searchFlights(request) { await new Promise(r => setTimeout(r, 1000)); return { success: true, message: 'Initiated' }; },
          async searchHotels(request) { await new Promise(r => setTimeout(r, 1000)); return { success: true, message: 'Initiated' }; },
          async submitVisaApplication(data) { await new Promise(r => setTimeout(r, 1000)); return { success: true, message: 'Submitted' }; }
        };

        // --- CONTEXT ---
        const LanguageContext = createContext();
        const LanguageProvider = ({ children }) => {
          const [language, setLanguage] = useState('ar');
          useEffect(() => {
            document.documentElement.lang = language;
            document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr';
          }, [language]);
          const toggleLanguage = () => setLanguage(prev => (prev === 'ar' ? 'en' : 'ar'));
          const t = (key) => TRANSLATIONS[key] ? TRANSLATIONS[key][language] : key;
          const dir = language === 'ar' ? 'rtl' : 'ltr';
          return <LanguageContext.Provider value={{ language, toggleLanguage, t, dir }}>{children}</LanguageContext.Provider>;
        };
        const useLanguage = () => useContext(LanguageContext);

        const AdminContext = createContext();
        const AdminProvider = ({ children }) => {
          const [config, setConfig] = useState({ enableRealApi: false, showPartners: true, maintenanceMode: false });
          const [isAuthenticated, setIsAuthenticated] = useState(false);
          const [packages, setPackages] = useState(FEATURED_PACKAGES);
          const login = (pwd) => { if(pwd === 'admin123') { setIsAuthenticated(true); return true; } return false; };
          const logout = () => setIsAuthenticated(false);
          const updateConfig = (k, v) => setConfig(p => ({...p, [k]: v}));
          const togglePackageFeatured = (id) => setPackages(prev => prev.map(p => p.id === id ? { ...p, featured: !p.featured } : p));
          return <AdminContext.Provider value={{ config, updateConfig, isAuthenticated, login, logout, packages, togglePackageFeatured }}>{children}</AdminContext.Provider>;
        };
        const useAdmin = () => useContext(AdminContext);

        // --- COMPONENTS ---
        const ServiceBookingModal = ({ isOpen, onClose, serviceName }) => {
          const { language } = useLanguage();
          const [formData, setFormData] = useState({ name: '', phone: '', email: '', date: '', duration: '', pax: '', notes: '' });
          const [submitted, setSubmitted] = useState(false);

          if (!isOpen) return null;

          const handleSubmit = (e) => {
            e.preventDefault();
            const subject = `New Service Request: ${serviceName.en}`;
            const body = `Dear DreamWorld Team,\n\nI would like to request the following service: ${serviceName.en} (${serviceName.ar}).\n\n--- CLIENT DETAILS ---\nName: ${formData.name}\nPhone: ${formData.phone}\nEmail: ${formData.email}\n\n--- TRIP DETAILS ---\nPreferred Date: ${formData.date}\nDuration: ${formData.duration} Days\nNumber of People: ${formData.pax}\n\n--- NOTES ---\n${formData.notes}`;
            window.location.href = `mailto:info@dwttsa.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            setSubmitted(true);
            setTimeout(() => { setSubmitted(false); onClose(); }, 2000);
          };

          const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });

          return (
            <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
              <div className="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" onClick={onClose}></div>
              <div className="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden animate-slide-up">
                <div className="bg-primary-950 px-8 py-6 flex justify-between items-center text-white">
                  <div>
                    <h3 className="text-xl md:text-2xl font-bold font-serif">{language === 'ar' ? 'طلب خدمة' : 'Request Service'}</h3>
                    <p className="text-gold-400 text-sm md:text-base font-bold">{language === 'ar' ? serviceName.ar : serviceName.en}</p>
                  </div>
                  <button onClick={onClose} className="p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors"><Lucide.X size={24} /></button>
                </div>
                <div className="p-8 max-h-[80vh] overflow-y-auto">
                  {submitted ? (
                    <div className="flex flex-col items-center justify-center py-12 text-center text-green-600 space-y-4">
                        <Lucide.CheckCircle size={64} />
                        <h4 className="text-2xl font-bold">{language === 'ar' ? 'تم تحويل طلبك!' : 'Request Redirected!'}</h4>
                        <p className="text-slate-500">{language === 'ar' ? 'جاري فتح تطبيق البريد الإلكتروني لإرسال الطلب...' : 'Opening email client to send request...'}</p>
                    </div>
                  ) : (
                    <form onSubmit={handleSubmit} className="space-y-6">
                        <div className="space-y-4">
                            <h4 className="text-slate-400 text-xs uppercase tracking-widest font-bold border-b pb-2 flex items-center gap-2"><Lucide.User size={14}/> {language === 'ar' ? 'معلومات الاتصال' : 'Contact Information'}</h4>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div className="relative"><Lucide.User className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><input type="text" name="name" required placeholder={language === 'ar' ? 'الاسم الكامل' : 'Full Name'} className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50" value={formData.name} onChange={handleChange} /></div>
                                <div className="relative"><Lucide.Phone className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><input type="tel" name="phone" required placeholder={language === 'ar' ? 'رقم الهاتف' : 'Phone Number'} className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50" value={formData.phone} onChange={handleChange} /></div>
                                <div className="relative md:col-span-2"><Lucide.Mail className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><input type="email" name="email" required placeholder={language === 'ar' ? 'البريد الإلكتروني' : 'Email Address'} className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50" value={formData.email} onChange={handleChange} /></div>
                            </div>
                        </div>
                        <div className="space-y-4">
                            <h4 className="text-slate-400 text-xs uppercase tracking-widest font-bold border-b pb-2 flex items-center gap-2"><Lucide.Calendar size={14}/> {language === 'ar' ? 'تفاصيل الطلب' : 'Request Details'}</h4>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div className="relative"><label className="text-[10px] text-gray-500 uppercase font-bold mb-1 block ml-1">{language === 'ar' ? 'التاريخ' : 'Date'}</label><div className="relative"><Lucide.Calendar className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><input type="date" name="date" required className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50 text-slate-600" value={formData.date} onChange={handleChange} /></div></div>
                                <div className="relative"><label className="text-[10px] text-gray-500 uppercase font-bold mb-1 block ml-1">{language === 'ar' ? 'المدة (أيام)' : 'Duration (Days)'}</label><div className="relative"><Lucide.Clock className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><input type="number" name="duration" min="1" required placeholder="5" className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50" value={formData.duration} onChange={handleChange} /></div></div>
                                <div className="relative"><label className="text-[10px] text-gray-500 uppercase font-bold mb-1 block ml-1">{language === 'ar' ? 'الأشخاص' : 'People'}</label><div className="relative"><Lucide.Users className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><input type="number" name="pax" min="1" required placeholder="2" className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50" value={formData.pax} onChange={handleChange} /></div></div>
                            </div>
                            <div className="relative"><Lucide.MessageSquare className="absolute top-3.5 left-3 rtl:right-3 rtl:left-auto text-gray-400" size={18} /><textarea name="notes" rows={3} placeholder={language === 'ar' ? 'ملاحظات إضافية...' : 'Additional Notes...'} className="w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50" value={formData.notes} onChange={handleChange}></textarea></div>
                        </div>
                        <button type="submit" className="w-full bg-gradient-to-r from-primary-900 to-primary-800 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl hover:from-primary-800 hover:to-primary-700 transition-all transform hover:-translate-y-1">{language === 'ar' ? 'إرسال الطلب' : 'Submit Request'}</button>
                    </form>
                  )}
                </div>
              </div>
            </div>
          );
        };
        
        const CustomRequestSection = () => {
            const { t, language } = useLanguage();
            const [request, setRequest] = useState('');
            const [contact, setContact] = useState('');

            const handleSend = (e) => {
                e.preventDefault();
                if (!request) return;
                const message = `Custom Request:\n${request}\nContact: ${contact}`;
                window.open(WhatsappService.forGeneral(message), '_blank');
            };

            return (
                <section className="py-16 bg-primary-50">
                    <div className="container mx-auto px-4 text-center">
                        <div className="max-w-3xl mx-auto bg-white rounded-3xl shadow-xl p-8 md:p-12 border border-primary-100">
                             <div className="mb-8">
                                <div className="w-16 h-16 bg-gold-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gold-600">
                                    <Lucide.Sparkles size={32} />
                                </div>
                                <h2 className="text-3xl font-bold text-primary-950 font-serif mb-4">{t('customRequestTitle')}</h2>
                                <p className="text-slate-600 text-lg">{t('customRequestDesc')}</p>
                             </div>
                             
                             <form onSubmit={handleSend} className="space-y-4">
                                <textarea 
                                    className="w-full p-4 rounded-xl border border-slate-200 focus:ring-2 focus:ring-gold-400 outline-none min-h-[120px] bg-slate-50"
                                    placeholder={t('requestPlaceholder')}
                                    value={request}
                                    onChange={(e) => setRequest(e.target.value)}
                                    required
                                ></textarea>
                                <input 
                                    type="text"
                                    className="w-full p-4 rounded-xl border border-slate-200 focus:ring-2 focus:ring-gold-400 outline-none bg-slate-50"
                                    placeholder={t('contactPlaceholder')}
                                    value={contact}
                                    onChange={(e) => setContact(e.target.value)}
                                    required
                                />
                                <button type="submit" className="w-full py-4 bg-primary-900 text-white rounded-xl font-bold shadow-lg hover:bg-primary-800 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2">
                                    <Lucide.Send size={20} /> {t('sendRequest')}
                                </button>
                             </form>
                        </div>
                    </div>
                </section>
            );
        };

        const Navbar = () => {
          const { language, toggleLanguage, t } = useLanguage();
          const [scrolled, setScrolled] = useState(false);
          const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
          const [logoSrc, setLogoSrc] = useState('/logo.jpeg');
          const location = useLocation();

          useEffect(() => {
            const handleScroll = () => setScrolled(window.scrollY > 20);
            window.addEventListener('scroll', handleScroll);
            return () => window.removeEventListener('scroll', handleScroll);
          }, []);

          const navLinks = [
            { key: 'home', href: '/' }, { key: 'flights', href: '/flights' }, { key: 'hotels', href: '/hotels' },
            { key: 'packages', href: '/packages' }, { key: 'visas', href: '/visas' }, { key: 'contact', href: '/contact' }
          ];

          return (
            <>
                <div className={`hidden lg:block fixed top-0 w-full z-[60] transition-all duration-500 bg-primary-950 text-white border-b border-white/10 ${scrolled ? '-translate-y-full' : 'translate-y-0'}`}>
                    <div className="container mx-auto px-6 h-10 flex justify-between items-center text-xs font-medium tracking-wide">
                        <div className="flex items-center gap-6">
                            <span className="flex items-center gap-2 text-slate-300 hover:text-gold-400 transition-colors cursor-pointer"><Lucide.Mail size={14} className="text-gold-500" /> info@dwttsa.com</span>
                            <span className="flex items-center gap-2 text-slate-300 hover:text-gold-400 transition-colors cursor-pointer" dir="ltr"><Lucide.Phone size={14} className="text-gold-500" /> +966 56 778 8773</span>
                        </div>
                        <div className="flex items-center gap-6">
                            <span className="flex items-center gap-2 text-slate-300"><Lucide.MapPin size={14} className="text-gold-500" /> Jeddah, KSA</span>
                            <div className="h-3 w-px bg-white/20"></div>
                             <button onClick={toggleLanguage} className="hover:text-gold-400 transition-colors uppercase font-bold">{language === 'ar' ? 'English' : 'العربية'}</button>
                        </div>
                    </div>
                </div>

                <nav className={`fixed w-full z-50 transition-all duration-500 ${scrolled ? 'top-0 glass-nav py-3 shadow-lg' : 'top-10 bg-transparent py-6'}`}>
                <div className="container mx-auto px-4 md:px-6 flex justify-between items-center">
                    <Link to="/" className="relative z-50 flex items-center group">
                    <div className={`transition-all duration-500 rounded-xl px-4 py-2 overflow-hidden flex items-center justify-center ${scrolled ? 'bg-white/95 shadow-md' : 'bg-white shadow-2xl shadow-black/20'}`}>
                        <img src={logoSrc} alt="Dreams World Travel" className={`transition-all duration-500 object-contain ${scrolled ? 'h-20 md:h-24' : 'h-28 md:h-40'}`} onError={(e) => { if (logoSrc !== DEFAULT_LOGO) setLogoSrc(DEFAULT_LOGO); }} />
                    </div>
                    </Link>

                    <div className={`hidden lg:flex items-center gap-6 xl:gap-8 px-8 xl:px-10 py-4 rounded-full border transition-all duration-500 ${scrolled ? 'bg-slate-50/90 backdrop-blur-md border-slate-200' : 'bg-primary-950/60 backdrop-blur-md border-white/10 shadow-2xl'}`}>
                    {navLinks.map((link) => (
                        <Link key={link.key} to={link.href} className={`font-medium text-xs xl:text-sm tracking-widest uppercase hover:text-gold-400 transition-colors relative group ${scrolled ? 'text-slate-700' : 'text-white text-shadow-sm'} ${location.pathname === link.href ? 'text-gold-500 font-bold' : ''}`}>
                        {t(link.key)}
                        <span className={`absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-gold-300 to-gold-500 transition-all duration-300 group-hover:w-full ${location.pathname === link.href ? 'w-full' : ''}`}></span>
                        </Link>
                    ))}
                    </div>

                    <div className="hidden lg:flex items-center gap-3 xl:gap-4">
                        <a href="tel:+966567788773" className={`px-6 py-3 rounded-full transition-all transform hover:-translate-y-0.5 flex items-center gap-2 font-bold text-xs border shadow-lg ${scrolled ? 'bg-primary-900 text-white border-primary-900 hover:bg-primary-800' : 'bg-white text-primary-950 border-white hover:bg-gold-50'}`}>
                        <Lucide.Phone size={16} /><span>{language === 'ar' ? 'اتصل الآن' : 'Call Now'}</span>
                        </a>
                        <Link to="/admin" className={`p-3 rounded-full transition ${scrolled ? 'text-slate-400 hover:text-primary-600' : 'text-white/80 hover:text-white bg-white/10'}`}><Lucide.User size={20} /></Link>
                    </div>

                    <button className="lg:hidden z-50 p-2 rounded-full bg-white/20 backdrop-blur-md border border-white/20 shadow-lg" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
                    {mobileMenuOpen ? <Lucide.X size={24} className="text-slate-800" /> : <Lucide.Menu size={24} className={scrolled ? 'text-slate-800' : 'text-white'} />}
                    </button>
                </div>

                <div className={`fixed inset-0 bg-white/95 backdrop-blur-3xl z-40 flex flex-col items-center justify-center gap-6 transition-transform duration-500 ${mobileMenuOpen ? 'translate-x-0' : 'translate-x-full rtl:-translate-x-full'}`}>
                    <div className="mb-4 p-4 bg-white rounded-2xl shadow-xl border border-slate-100 min-w-[150px] flex justify-center"><img src={logoSrc} alt="Logo" className="h-20 object-contain" /></div>
                    <div className="flex flex-col gap-4 text-center w-full px-8">{navLinks.map((link) => (<Link key={link.key} to={link.href} onClick={() => setMobileMenuOpen(false)} className="font-serif text-xl md:text-2xl text-slate-800 hover:text-gold-600 transition-colors font-medium tracking-wide border-b border-gray-100 pb-2">{t(link.key)}</Link>))}</div>
                    <div className="flex gap-4 mt-6"><button onClick={() => { toggleLanguage(); setMobileMenuOpen(false); }} className="flex items-center gap-2 px-8 py-3 rounded-full border-2 border-slate-100 text-slate-600 text-lg hover:border-gold-400 hover:text-gold-600 transition-colors bg-white shadow-sm"><Lucide.Globe size={20} /><span>{language === 'ar' ? 'English' : 'العربية'}</span></button></div>
                </div>
                </nav>
            </>
          );
        };

        const SearchBox = () => {
          const { t, language } = useLanguage();
          const { config } = useAdmin();
          const [activeTab, setActiveTab] = useState('flight');
          const [destination, setDestination] = useState('');
          const [date, setDate] = useState('');
          const [passengers, setPassengers] = useState(1);
          const [loading, setLoading] = useState(false);

          const handleSearch = async (e) => {
            e.preventDefault();
            setLoading(true);
            await new Promise(r => setTimeout(r, 800)); // Fake loader
            setLoading(false);
            
            let link = '';
            if (activeTab === 'flight') link = WhatsappService.forFlight({ from: 'UAE', to: destination, date, passengers }, language);
            else if (activeTab === 'hotel') link = WhatsappService.forHotel({ city: destination, checkIn: date, checkOut: date, guests: passengers }, language);
            else link = WhatsappService.forGeneral(`Package to ${destination}`);
            window.open(link, '_blank');
          };

          return (
            <div className="glass-panel rounded-2xl p-5 md:p-8 shadow-2xl border-t-4 border-gold-400 animate-slide-up max-w-5xl mx-auto relative transform -translate-y-20 z-20">
              <div className="flex justify-center mb-6 gap-4 border-b border-gray-100 pb-2">
                {[ { id: 'flight', label: t('flights'), icon: Lucide.Plane }, { id: 'hotel', label: t('hotels'), icon: Lucide.Building }, { id: 'package', label: t('packages'), icon: Lucide.Map } ].map(tab => (
                    <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex items-center gap-2 px-6 py-3 font-bold border-b-2 transition-colors ${activeTab === tab.id ? 'text-primary-800 border-gold-400' : 'text-gray-400 border-transparent'}`}>
                        <tab.icon size={18} /> {tab.label}
                    </button>
                ))}
              </div>
              <form onSubmit={handleSearch} className="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                 <div>
                    <label className="block text-xs font-bold mb-2 uppercase text-gray-500">{t('to')}</label>
                    <input type="text" className="w-full border border-gray-200 p-3 rounded-lg focus:ring-2 focus:ring-gold-400 outline-none" required placeholder="Dubai, Paris..." value={destination} onChange={e=>setDestination(e.target.value)} />
                 </div>
                 <div>
                    <label className="block text-xs font-bold mb-2 uppercase text-gray-500">{t('date')}</label>
                    <input type="date" className="w-full border border-gray-200 p-3 rounded-lg focus:ring-2 focus:ring-gold-400 outline-none text-gray-600" required value={date} onChange={e=>setDate(e.target.value)} />
                 </div>
                 <div>
                    <label className="block text-xs font-bold mb-2 uppercase text-gray-500">{t('passengers')}</label>
                    <input type="number" min="1" className="w-full border border-gray-200 p-3 rounded-lg focus:ring-2 focus:ring-gold-400 outline-none" value={passengers} onChange={e=>setPassengers(e.target.value)} />
                 </div>
                 <button type="submit" disabled={loading} className="bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-400 hover:to-gold-500 text-white font-bold p-3 rounded-lg w-full flex items-center justify-center gap-2 shadow-lg transition-transform hover:-translate-y-1">
                    {loading ? '...' : <><Lucide.Search size={20}/> {t('bookNow')}</>}
                 </button>
              </form>
            </div>
          );
        };

        const Hero = () => {
          const { t, language } = useLanguage();
          const [currentBg, setCurrentBg] = useState(0);
          const backgrounds = [
            'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?q=80&w=2070&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=2070&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?q=80&w=2083&auto=format&fit=crop'
          ];
          
          useEffect(() => {
            const timer = setInterval(() => setCurrentBg((p) => (p + 1) % backgrounds.length), 6000);
            return () => clearInterval(timer);
          }, []);

          return (
            <div className="relative w-full flex flex-col items-center bg-primary-950">
              <div className="relative min-h-[600px] md:h-[80vh] w-full overflow-hidden">
                {backgrounds.map((bg, idx) => (
                    <div key={idx} className={`absolute inset-0 bg-cover bg-center transition-opacity duration-[2000ms] ${idx === currentBg ? 'opacity-100 z-0' : 'opacity-0 -z-10'}`} style={{ backgroundImage: `url("${bg}")` }}>
                        <div className="absolute inset-0 bg-black/40"></div>
                        <div className={`absolute inset-0 bg-cover bg-center ${idx === currentBg ? 'animate-ken-burns' : ''}`} style={{ backgroundImage: `url("${bg}")` }}></div>
                         <div className="absolute inset-0 bg-gradient-to-b from-primary-950/60 via-primary-900/30 to-primary-950/90"></div>
                    </div>
                ))}
                
                <div className="relative z-10 container mx-auto px-4 h-full flex flex-col items-center justify-center text-center pt-24 pb-32">
                    <span className="inline-block py-2 px-6 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-gold-300 text-sm font-bold uppercase mb-8 shadow-2xl">{language === 'ar' ? 'فخامة لا تضاهى' : 'Unrivaled Luxury'}</span>
                    <h1 className="text-5xl md:text-8xl font-bold text-white mb-8 font-serif drop-shadow-2xl">{language === 'ar' ? 'اكتشف عالم الأحلام' : 'Discover Dreams World'}</h1>
                    <p className="text-lg md:text-xl text-slate-200 mb-12 max-w-3xl mx-auto">{t('footerDesc')}</p>
                </div>
              </div>
              <div className="container mx-auto px-4 w-full"><SearchBox /></div>
            </div>
          );
        };

        const Footer = () => {
             const { t, language } = useLanguage();
             const [logoSrc, setLogoSrc] = useState('/logo.jpeg');
             return (
                 <footer className="bg-primary-950 text-white pt-20 pb-10 border-t border-primary-900">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12 border-b border-white/10 pb-12">
                            <div>
                                <img src={logoSrc} onError={() => setLogoSrc(DEFAULT_LOGO)} className="h-20 mb-6 bg-white p-2 rounded-xl" />
                                <p className="text-slate-400">{t('footerDesc')}</p>
                            </div>
                            <div>
                                <h4 className="text-lg font-bold mb-6">{t('contact')}</h4>
                                <div className="space-y-4 text-slate-400">
                                    <p className="flex items-center gap-2"><Lucide.MapPin className="text-gold-500" size={16}/> {t('addressLine1')}</p>
                                    <p className="flex items-center gap-2" dir="ltr"><Lucide.Phone className="text-gold-500" size={16}/> +966 56 778 8773</p>
                                </div>
                            </div>
                            <div>
                                <h4 className="text-lg font-bold mb-6">{t('links')}</h4>
                                <div className="space-y-2">
                                    <Link to="/flights" className="block text-slate-400 hover:text-gold-400">{t('flights')}</Link>
                                    <Link to="/hotels" className="block text-slate-400 hover:text-gold-400">{t('hotels')}</Link>
                                    <Link to="/packages" className="block text-slate-400 hover:text-gold-400">{t('packages')}</Link>
                                </div>
                            </div>
                        </div>
                        <p className="text-center text-slate-500 text-sm">{t('copyright')}</p>
                    </div>
                 </footer>
             );
        }

        // --- PAGES ---
        const Home = () => {
            const { t, language } = useLanguage();
            const { packages } = useAdmin();
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [selectedService, setSelectedService] = useState(null);

            const handleServiceClick = (service) => {
              setSelectedService(service);
              setIsModalOpen(true);
            };
            
            const Arrow = language === 'ar' ? Lucide.ArrowLeft : Lucide.ArrowRight;

            return (
                <div className="bg-slate-50 min-h-screen">
                    <Hero />
                    
                    {/* Services Section */}
                    <section className="py-24 bg-slate-50 relative overflow-hidden">
                         <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>
                         <div className="container mx-auto px-4 relative z-10">
                            <div className="text-center mb-16">
                                <span className="text-gold-600 font-bold tracking-[0.2em] uppercase text-xs md:text-sm mb-3 block">
                                    {language === 'ar' ? 'تميز بلا حدود' : 'Excellence Without Limits'}
                                </span>
                                <h2 className="text-4xl md:text-6xl font-bold text-primary-950 font-serif mb-6">
                                    {t('ourServices')}
                                </h2>
                                <p className="text-slate-600 max-w-2xl mx-auto text-lg leading-relaxed">{t('servicesDesc')}</p>
                            </div>

                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                                {OTHER_SERVICES.map((service, index) => (
                                    <div key={service.key} onClick={() => handleServiceClick(service)} className="group relative h-80 rounded-3xl overflow-hidden cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                                        <img src={service.image} alt={language === 'ar' ? service.ar : service.en} className="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
                                        <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"></div>
                                        
                                        <div className="absolute inset-0 p-6 flex flex-col justify-end text-white">
                                            <h4 className="font-bold text-2xl mb-2 font-serif leading-tight transform transition-transform duration-500 translate-y-4 group-hover:translate-y-0">{language === 'ar' ? service.ar : service.en}</h4>
                                            <div className="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
                                                 <p className="text-gold-400 font-bold text-sm uppercase tracking-wider flex items-center gap-2">
                                                     {language === 'ar' ? 'اطلب الخدمة' : 'Request Now'} <Arrow size={16} />
                                                 </p>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* Featured Packages */}
                    <section className="py-24 container mx-auto px-4">
                        <div className="flex justify-between items-end mb-12">
                            <h2 className="text-4xl font-bold font-serif text-primary-950">{t('featuredOffers')}</h2>
                            <Link to="/packages" className="text-gold-600 font-bold hover:underline">{language === 'ar' ? 'عرض الكل' : 'View All'}</Link>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            {packages.filter(p=>p.featured!==false).slice(0,6).map(pkg => (
                                <div key={pkg.id} className="bg-white rounded-2xl shadow-xl overflow-hidden group cursor-pointer" onClick={()=>window.open(WhatsappService.forPackage(pkg, language), '_blank')}>
                                    <div className="h-72 overflow-hidden relative">
                                        <img src={pkg.image} className="w-full h-full object-cover transition duration-700 group-hover:scale-110" />
                                        <div className="absolute top-4 left-4 bg-black/60 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-bold">{pkg.duration}</div>
                                    </div>
                                    <div className="p-6">
                                        <div className="flex justify-between items-center mb-2"><h3 className="text-xl font-bold">{pkg.title[language]}</h3><span className="text-gold-600 font-bold text-xl">${pkg.price}</span></div>
                                        <p className="text-slate-500 text-sm mb-4">{pkg.description[language]}</p>
                                        <button className="w-full py-3 rounded-lg border border-primary-900 text-primary-900 font-bold hover:bg-primary-900 hover:text-white transition-colors">{t('bookNow')}</button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </section>

                    <CustomRequestSection />
                    
                    {selectedService && <ServiceBookingModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} serviceName={selectedService} />}
                </div>
            );
        };

        const Flights = () => { const { t } = useLanguage(); return <div className="pt-32 pb-20 container mx-auto px-4 text-center min-h-screen"><h1 className="text-4xl font-bold mb-8 text-primary-900 font-serif">{t('flights')}</h1><SearchBox /></div>; };
        const Hotels = () => { const { t } = useLanguage(); return <div className="pt-32 pb-20 container mx-auto px-4 text-center min-h-screen"><h1 className="text-4xl font-bold mb-8 text-primary-900 font-serif">{t('hotels')}</h1><SearchBox /></div>; };
        
        const Visas = () => { 
            const { t, language } = useLanguage();
            return (
                <div className="pt-32 pb-20 container mx-auto px-4 min-h-screen">
                    <h1 className="text-4xl font-bold mb-12 text-center text-primary-900 font-serif">{t('visas')}</h1>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                        {VISA_SERVICES.map(visa => (
                            <div key={visa.id} className="bg-white p-8 rounded-2xl shadow-lg border border-slate-100">
                                <div className="flex justify-between items-start mb-4">
                                    <h3 className="text-2xl font-bold">{visa.title[language]}</h3>
                                    <span className="text-gold-600 font-bold text-xl">${visa.price}</span>
                                </div>
                                <ul className="mb-8 space-y-2">
                                    {visa.requirements[language].map(r => <li key={r} className="flex items-center gap-2 text-slate-600"><Lucide.CheckCircle size={16} className="text-green-500"/> {r}</li>)}
                                </ul>
                                <button onClick={() => window.open(WhatsappService.forGeneral(`Visa Request: ${visa.title.en}`), '_blank')} className="w-full bg-primary-900 text-white py-3 rounded-lg font-bold hover:bg-primary-800">{t('bookNow')}</button>
                            </div>
                        ))}
                    </div>
                </div>
            ); 
        };
        
        const Packages = () => { 
            const { t, language } = useLanguage();
            const { packages } = useAdmin();
            return (
                <div className="pt-32 pb-20 container mx-auto px-4 min-h-screen">
                    <h1 className="text-4xl font-bold mb-12 text-center text-primary-900 font-serif">{t('packages')}</h1>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                        {packages.map(pkg => (
                            <div key={pkg.id} className="bg-white rounded-2xl shadow-xl overflow-hidden group cursor-pointer" onClick={()=>window.open(WhatsappService.forPackage(pkg, language), '_blank')}>
                                <div className="h-64 overflow-hidden"><img src={pkg.image} className="w-full h-full object-cover transition duration-700 group-hover:scale-110" /></div>
                                <div className="p-6">
                                    <div className="flex justify-between items-center mb-2"><h3 className="text-xl font-bold">{pkg.title[language]}</h3><span className="text-gold-600 font-bold">${pkg.price}</span></div>
                                    <p className="text-slate-500 text-sm">{pkg.description[language]}</p>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };
        
        const Contact = () => { 
            const { t, language } = useLanguage(); 
            return (
                <div className="pt-32 pb-20 container mx-auto px-4 min-h-screen text-center">
                    <h1 className="text-4xl font-bold mb-12 text-primary-900 font-serif">{t('contact')}</h1>
                    <div className="max-w-2xl mx-auto bg-white p-12 rounded-3xl shadow-2xl">
                        <div className="space-y-6 text-lg">
                            <p className="flex items-center justify-center gap-3"><Lucide.Phone className="text-gold-500"/> +966 56 778 8773</p>
                            <p className="flex items-center justify-center gap-3"><Lucide.Mail className="text-gold-500"/> booking@dreamworld.com</p>
                            <p className="flex items-center justify-center gap-3"><Lucide.MapPin className="text-gold-500"/> Jeddah, KSA</p>
                        </div>
                        <button onClick={() => window.open(WhatsappService.forGeneral("Hello"), '_blank')} className="mt-8 bg-green-500 text-white px-8 py-4 rounded-full font-bold flex items-center justify-center gap-2 mx-auto hover:bg-green-600 transition"><Lucide.MessageCircle /> WhatsApp Chat</button>
                    </div>
                </div>
            ); 
        };

        const Admin = () => {
            const { isAuthenticated, login, logout, config, updateConfig, packages, togglePackageFeatured } = useAdmin();
            const [pwd, setPwd] = useState('');
            
            if(!isAuthenticated) return (
                <div className="pt-40 pb-20 flex justify-center min-h-screen bg-slate-100">
                    <div className="bg-white p-8 rounded-xl shadow-xl max-w-sm w-full h-fit">
                        <h2 className="text-2xl font-bold mb-6 text-center">Admin Login</h2>
                        <input type="password" value={pwd} onChange={e=>setPwd(e.target.value)} className="border p-3 block mb-4 w-full rounded-lg" placeholder="Password (admin123)" />
                        <button onClick={()=>login(pwd)} className="bg-primary-900 text-white px-4 py-3 w-full rounded-lg font-bold">Login</button>
                    </div>
                </div>
            );
            return (
                <div className="pt-32 pb-20 container mx-auto px-4 min-h-screen">
                    <div className="flex justify-between items-center mb-8">
                        <h1 className="text-3xl font-bold">Admin Panel</h1>
                        <button onClick={logout} className="text-red-500 font-bold">Logout</button>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div className="bg-white p-6 rounded-xl shadow">
                            <h3 className="font-bold text-xl mb-4">Settings</h3>
                            <label className="flex items-center gap-2 mb-4 cursor-pointer">
                                <input type="checkbox" checked={config.maintenanceMode} onChange={e=>updateConfig('maintenanceMode', e.target.checked)} className="w-5 h-5" /> 
                                Maintenance Mode
                            </label>
                            <label className="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" checked={config.enableRealApi} onChange={e=>updateConfig('enableRealApi', e.target.checked)} className="w-5 h-5" /> 
                                Enable Real API (Simulated)
                            </label>
                        </div>
                        <div className="bg-white p-6 rounded-xl shadow">
                            <h3 className="font-bold text-xl mb-4">Packages Visibility</h3>
                            <div className="space-y-2">
                                {packages.map(p => (
                                    <div key={p.id} className="flex justify-between items-center p-2 bg-slate-50 rounded">
                                        <span>{p.title.en}</span>
                                        <button onClick={()=>togglePackageFeatured(p.id)} className={`px-3 py-1 rounded text-xs font-bold ${p.featured !== false ? 'bg-green-100 text-green-700' : 'bg-gray-200 text-gray-500'}`}>
                                            {p.featured !== false ? 'Visible' : 'Hidden'}
                                        </button>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const FloatingWhatsApp = () => (
            <a href="https://wa.me/966567788773" target="_blank" className="fixed bottom-6 right-6 z-50 bg-[#25D366] text-white p-4 rounded-full shadow-2xl hover:scale-110 transition animate-bounce">
                <Lucide.MessageCircle size={32} />
            </a>
        );

        // --- ROOT APP ---
        const App = () => {
          return (
            <AdminProvider>
              <LanguageProvider>
                <HashRouter>
                  <Navbar />
                  <Routes>
                    <Route path="/" element={<Home />} />
                    <Route path="/flights" element={<Flights />} />
                    <Route path="/hotels" element={<Hotels />} />
                    <Route path="/visas" element={<Visas />} />
                    <Route path="/packages" element={<Packages />} />
                    <Route path="/contact" element={<Contact />} />
                    <Route path="/admin" element={<Admin />} />
                  </Routes>
                  <FloatingWhatsApp />
                  <Footer />
                </HashRouter>
              </LanguageProvider>
            </AdminProvider>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</head>
<body class="bg-slate-50 text-slate-800 antialiased selection:bg-gold-300 selection:text-primary-900">
    <div id="root"></div>
</body>
</html>
